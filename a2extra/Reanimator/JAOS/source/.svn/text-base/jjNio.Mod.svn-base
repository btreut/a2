MODULE jjNio;	(** AUTHOR "prk"; PURPOSE "Native implementation of java/nio/*" *)IMPORT		JT := JVMTypes, JC := JVMConsole, jjlObject,		jjiFileDescriptor;VAR	failureInfo: JC.LoggingInfo;	TYPE	(* Aliases *)	FileLock = PTR (*jjncFileLock.Class*);	MapMode = PTR (*jjncFileChannel$MapMode.Class*);	MappedByteBuffer = PTR (*jjnMappedByteBuffer.Class*);	ByteBuffer = PTR (*jjnByteBuffer.Class*);	ReadableByteChannel = PTR (*jjncReadableByteChannel.Class*);	WritableByteChannel = PTR (*jjncWritableByteChannel.Class*);		RawData = PTR (*RawData*);		FileDescriptor = jjiFileDescriptor.FileDescriptor;	Object = jjlObject.Object;	(* native implementation for java/nio/channels/spi/AbstractInterruptibleChannel *)	AbstractInterruptibleChan* = OBJECT (Object)		VAR			opened-: BOOLEAN;		PROCEDURE init();   (* <init>()V *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END init;		PROCEDURE begin();   (* begin()V *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END begin;		PROCEDURE close*();   (* close()V *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END close;		PROCEDURE end(p0: BOOLEAN);   (* end(Z)V *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END end;		PROCEDURE finit();   (* finit$()V *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END finit;		PROCEDURE implCloseChannel();   (* implCloseChannel()V *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END implCloseChannel;		PROCEDURE isOpen*(): BOOLEAN;   (* isOpen()Z *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END isOpen;	END AbstractInterruptibleChan;	(* native implementation for java/nio/channels/FileChannel *)		FileChannel* = OBJECT (AbstractInterruptibleChan)		PROCEDURE init();   (* <init>()V *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END init;		PROCEDURE force*(p0: BOOLEAN);   (* force(Z)V *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END force;		PROCEDURE implCloseChannel();   (* implCloseChannel()V *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END implCloseChannel;		PROCEDURE lock4124*(): FileLock;   (* lock()Ljava/nio/channels/FileLock; *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END lock4124;		PROCEDURE lock1557*(p0: JT.Long; p1: JT.Long; p2: BOOLEAN): FileLock;   (* lock(JJZ)Ljava/nio/channels/FileLock; *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END lock1557;		PROCEDURE map*(p0: MapMode; p1: JT.Long; p2: JT.Long): MappedByteBuffer;   (* map(Ljava/nio/channels/FileChannel$MapMode;JJ)Ljava/nio/MappedByteBuffer; *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END map;		PROCEDURE position184*(): JT.Long;   (* position()J *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END position184;		PROCEDURE position1978*(p0: JT.Long): FileChannel;   (* position(J)Ljava/nio/channels/FileChannel; *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END position1978;		PROCEDURE read2717*(p0: ByteBuffer): JT.Int;   (* read(Ljava/nio/ByteBuffer;)I *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END read2717;		PROCEDURE read5639*(p0: ByteBuffer; p1: JT.Long): JT.Int;   (* read(Ljava/nio/ByteBuffer;J)I *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END read5639;		PROCEDURE read5438*(p0: jjlObject.RefArray): JT.Long;   (* read([Ljava/nio/ByteBuffer;)J *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END read5438;		PROCEDURE read3414*(p0: jjlObject.RefArray; p1: JT.Int; p2: JT.Int): JT.Long;   (* read([Ljava/nio/ByteBuffer;II)J *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END read3414;		PROCEDURE size*(): JT.Long;   (* size()J *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END size;		PROCEDURE transferFrom*(p0: ReadableByteChannel; p1: JT.Long; p2: JT.Long): JT.Long;   (* transferFrom(Ljava/nio/channels/ReadableByteChannel;JJ)J *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END transferFrom;		PROCEDURE transferTo*(p0: JT.Long; p1: JT.Long; p2: WritableByteChannel): JT.Long;   (* transferTo(JJLjava/nio/channels/WritableByteChannel;)J *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END transferTo;		PROCEDURE truncate*(p0: JT.Long): FileChannel;   (* truncate(J)Ljava/nio/channels/FileChannel; *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END truncate;		PROCEDURE tryLock4124*(): FileLock;   (* tryLock()Ljava/nio/channels/FileLock; *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END tryLock4124;		PROCEDURE tryLock1557*(p0: JT.Long; p1: JT.Long; p2: BOOLEAN): FileLock;   (* tryLock(JJZ)Ljava/nio/channels/FileLock; *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END tryLock1557;		PROCEDURE write2717*(p0: ByteBuffer): JT.Int;   (* write(Ljava/nio/ByteBuffer;)I *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END write2717;		PROCEDURE write5639*(p0: ByteBuffer; p1: JT.Long): JT.Int;   (* write(Ljava/nio/ByteBuffer;J)I *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END write5639;		PROCEDURE write5438*(p0: jjlObject.RefArray): JT.Long;   (* write([Ljava/nio/ByteBuffer;)J *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END write5438;		PROCEDURE write3414*(p0: jjlObject.RefArray; p1: JT.Int; p2: JT.Int): JT.Long;   (* write([Ljava/nio/ByteBuffer;II)J *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END write3414;	END FileChannel;	(* native implementation for java/nio/channels/FileChannelImpl *)		FileChannelImpl* = OBJECT (FileChannel)		VAR			mapaddress*: RawData;			length-: LONGINT;			fd-: FileDescriptor;			buf-: MappedByteBuffer;			fileobj-: Object;		PROCEDURE init164*();   (* <init>()V *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END init164;		PROCEDURE init3347*(p0: FileDescriptor; p1: BOOLEAN; p2: Object);   (* <init>(Ljava/io/FileDescriptor;ZLjava/lang/Object;)V *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END init3347;		PROCEDURE force*(p0: BOOLEAN);   (* force(Z)V *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END force;		PROCEDURE implCloseChannel();   (* implCloseChannel()V *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END implCloseChannel;		PROCEDURE implPosition184(): JT.Long;   (* implPosition()J *)		BEGIN	(* put your implementation here *)			Fail("(jjNio.Mod) FileChannelImpl.implPosition184");			HALT(99)		END implPosition184;		PROCEDURE implPosition1978(p0: JT.Long): FileChannel;   (* implPosition(J)Ljava/nio/channels/FileChannel; *)		BEGIN	(* put your implementation here *)			Fail("(jjNio.Mod) FileChannelImpl.implPosition1978");			HALT(99)		END implPosition1978;		PROCEDURE implRead2717(p0: ByteBuffer): JT.Int;   (* implRead(Ljava/nio/ByteBuffer;)I *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END implRead2717;		PROCEDURE implRead1591(p0: jjlObject.ByteArray; p1: JT.Int; p2: JT.Int): JT.Int;   (* implRead([BII)I *)		BEGIN	(* put your implementation here *)			Fail("(jjNio.Mod) FileChannelImpl.implRead1591");			HALT(99)		END implRead1591;		PROCEDURE implTruncate(p0: JT.Long): FileChannel;   (* implTruncate(J)Ljava/nio/channels/FileChannel; *)		BEGIN	(* put your implementation here *)			Fail("(jjNio.Mod) FileChannelImpl.implTruncate");			HALT(99)		END implTruncate;		PROCEDURE implWrite2717(p0: ByteBuffer): JT.Int;   (* implWrite(Ljava/nio/ByteBuffer;)I *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END implWrite2717;		PROCEDURE implWrite1591(p0: jjlObject.ByteArray; p1: JT.Int; p2: JT.Int): JT.Int;   (* implWrite([BII)I *)		BEGIN	(* put your implementation here *)			Fail("(jjNio.Mod) FileChannelImpl.implWrite1591");			HALT(99)		END implWrite1591;		PROCEDURE lock1557*(p0: JT.Long; p1: JT.Long; p2: BOOLEAN): FileLock;   (* lock(JJZ)Ljava/nio/channels/FileLock; *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END lock1557;		PROCEDURE map*(p0: MapMode; p1: JT.Long; p2: JT.Long): MappedByteBuffer;   (* map(Ljava/nio/channels/FileChannel$MapMode;JJ)Ljava/nio/MappedByteBuffer; *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END map;		PROCEDURE niommapfile(p0: JT.Long; p1: JT.Long; p2: JT.Int): RawData;   (* nio_mmap_file(JJI)Lgnu/classpath/RawData; *)		BEGIN	(* put your implementation here *)			Fail("(jjNio.Mod) FileChannelImpl.niommapfile");			HALT(99)		END niommapfile;		PROCEDURE niomsync(p0: RawData; p1: JT.Int);   (* nio_msync(Lgnu/classpath/RawData;I)V *)		BEGIN	(* put your implementation here *)			Fail("(jjNio.Mod) FileChannelImpl.niomsync");			HALT(99)		END niomsync;		PROCEDURE niounmmapfile(p0: RawData; p1: JT.Int);   (* nio_unmmap_file(Lgnu/classpath/RawData;I)V *)		BEGIN	(* put your implementation here *)			Fail("(jjNio.Mod) FileChannelImpl.niounmmapfile");			HALT(99)		END niounmmapfile;		PROCEDURE position184*(): JT.Long;   (* position()J *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END position184;		PROCEDURE position1978*(p0: JT.Long): FileChannel;   (* position(J)Ljava/nio/channels/FileChannel; *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END position1978;		PROCEDURE read2717*(p0: ByteBuffer): JT.Int;   (* read(Ljava/nio/ByteBuffer;)I *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END read2717;		PROCEDURE read5639*(p0: ByteBuffer; p1: JT.Long): JT.Int;   (* read(Ljava/nio/ByteBuffer;J)I *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END read5639;		PROCEDURE read3414*(p0: jjlObject.RefArray; p1: JT.Int; p2: JT.Int): JT.Long;   (* read([Ljava/nio/ByteBuffer;II)J *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END read3414;		PROCEDURE size*(): JT.Long;   (* size()J *)		BEGIN	(* put your implementation here *)			Fail("(jjNio.Mod) FileChannelImpl.size");			HALT(99)		END size;		PROCEDURE transferFrom*(p0: ReadableByteChannel; p1: JT.Long; p2: JT.Long): JT.Long;   (* transferFrom(Ljava/nio/channels/ReadableByteChannel;JJ)J *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END transferFrom;		PROCEDURE transferTo*(p0: JT.Long; p1: JT.Long; p2: WritableByteChannel): JT.Long;   (* transferTo(JJLjava/nio/channels/WritableByteChannel;)J *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END transferTo;		PROCEDURE truncate*(p0: JT.Long): FileChannel;   (* truncate(J)Ljava/nio/channels/FileChannel; *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END truncate;		PROCEDURE tryLock1557*(p0: JT.Long; p1: JT.Long; p2: BOOLEAN): FileLock;   (* tryLock(JJZ)Ljava/nio/channels/FileLock; *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END tryLock1557;		PROCEDURE write2717*(p0: ByteBuffer): JT.Int;   (* write(Ljava/nio/ByteBuffer;)I *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END write2717;		PROCEDURE write5639*(p0: ByteBuffer; p1: JT.Long): JT.Int;   (* write(Ljava/nio/ByteBuffer;J)I *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END write5639;		PROCEDURE write3414*(p0: jjlObject.RefArray; p1: JT.Int; p2: JT.Int): JT.Long;   (* write([Ljava/nio/ByteBuffer;II)J *)		BEGIN	(* DON'T IMPLEMENT THIS METHOD *)		END write3414;	END FileChannelImpl;	(* static native implementation for java/nio/channels/FileChannelImpl *)		PROCEDURE createdirectmappedbuffer(p0: RawData; p1: JT.Long): MappedByteBuffer;   (* create_direct_mapped_buffer(Lgnu/classpath/RawData;J)Ljava/nio/MappedByteBuffer; *)	BEGIN	(* DON'T IMPLEMENT THIS METHOD *)	END createdirectmappedbuffer;	PROCEDURE Fail(name: ARRAY OF CHAR);	BEGIN		JC.String(failureInfo, name); JC.String(failureInfo, " not implemented"); JC.Ln(failureInfo);	END Fail;	BEGIN	failureInfo.kind := JC.Failure; failureInfo.source := JC.Nio;END jjNio.(*	11.01.04	prk	update to classpath 0.06*)